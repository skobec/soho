!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):"object"==typeof exports?exports.PositionSticky=e():t.PositionSticky=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){var n=i(1),o=i(2),s=i(3),r=i(4),h={POS_SCHEME_STATIC:100,POS_SCHEME_FIXED:200,POS_SCHEME_ABSOLUTE:300,create:function(t,e){return"undefined"==typeof e&&(e={}),Object.create(h)._init(t,e)},_init:function(t,e){return this.constructor=h,this._window=window,this._sticky=s.create(t),this._container=n.create(t.parentNode),this._placeholder=null,this._posScheme=h.POS_SCHEME_STATIC,this._isTicking=!1,this._threshold=null,this._options=e,this._leftPositionWhenAbsolute=null,this._leftPositionWhenFixed=null,this._latestKnownScrollY=this._window.pageYOffset,this._setOffsetTop(),this._setOffsetBottom(),this._calcThreshold(),this._setLeftPositionWhenAbsolute(),this._setLeftPositionWhenFixed(),this._createPlaceholder(),this._subscribeToWindowScroll(),this},_setOffsetTop:function(){this.offsetTop="number"==typeof this._options.offsetTop&&this._options.offsetTop>=0?this._options.offsetTop:this._container.borderTopWidth+this._container.paddingTop},_setOffsetBottom:function(){this.offsetBottom=this._container.borderBottomWidth+this._container.paddingBottom},_calcThreshold:function(){this._threshold=this._getStickyDistanceFromDocumentTop()-this.offsetTop},_setLeftPositionWhenAbsolute:function(){var t=parseInt(this._window.getComputedStyle(this._sticky.element).marginLeft,10);this._leftPositionWhenAbsolute=this._sticky.element.offsetLeft-t},_setLeftPositionWhenFixed:function(){var t=parseInt(this._window.getComputedStyle(this._sticky.element).marginLeft,10);this._leftPositionWhenFixed=this._window.pageXOffset+this._sticky.element.getBoundingClientRect().left-t},_createPlaceholder:function(){this._placeholder=o.create(this._sticky)},_subscribeToWindowScroll:function(){this._window.addEventListener("scroll",this._onScroll.bind(this))},_onScroll:function(){this._isTicking||(this._latestKnownScrollY=this._window.pageYOffset,r(this._update.bind(this)),this._isTicking=!0)},_isStatic:function(){return this._posScheme===h.POS_SCHEME_STATIC},_makeStatic:function(){this._sticky.element.style.position="static",this._placeholder.element.style.display="none",this._posScheme=h.POS_SCHEME_STATIC},_isFixed:function(){return this._posScheme===h.POS_SCHEME_FIXED},_makeFixed:function(){this._sticky.element.style.bottom=null,this._sticky.element.style.position="fixed",this._sticky.element.style.top=this.offsetTop+"px",this._sticky.element.style.left=this._leftPositionWhenFixed+"px",this._placeholder.element.style.display="block",this._posScheme=h.POS_SCHEME_FIXED},_isAbsolute:function(){return this._posScheme===h.POS_SCHEME_ABSOLUTE},_makeAbsolute:function(){this._sticky.element.style.top=null,this._sticky.element.style.position="absolute",this._sticky.element.style.bottom=this._container.paddingBottom+"px",this._sticky.element.style.left=this._leftPositionWhenAbsolute+"px",this._placeholder.element.style.display="block",this._posScheme=h.POS_SCHEME_ABSOLUTE},_update:function(){this._isTicking=!1,this._isBelowThreshold()?this._isStatic()||this._makeStatic():this._canStickyFitInContainer()?this._isFixed()||this._makeFixed():this._isAbsolute()||this._makeAbsolute()},_isBelowThreshold:function(){return this._latestKnownScrollY<this._threshold?!0:!1},_canStickyFitInContainer:function(){return this._getAvailableSpaceInContainer()>=this._sticky.boundingBoxHeight},_getAvailableSpaceInContainer:function(){return this._container.element.getBoundingClientRect().bottom-this.offsetBottom-this.offsetTop},_getStickyDistanceFromDocumentTop:function(){var t=this._isStatic()?this._sticky.element:this._placeholder.element,e=this._latestKnownScrollY+t.getBoundingClientRect().top;return e},refresh:function(){this._calcThreshold(),this._sticky.refresh(),this._placeholder.refresh()}};t.exports=h},function(t){var e={create:function(t){return Object.create(e)._init(t)},_init:function(t){return this.constructor=e,this._window=window,this.element=t,this.paddingTop=null,this.paddingBottom=null,this.borderTopWidth=null,this.borderBottomWidth=null,this._validatePosScheme(),this._setLayoutProperties(),this},_validatePosScheme:function(){var t=this.element.style.position;"relative"!=t&&"absolute"!=t&&(this.element.style.position="relative")},_setLayoutProperties:function(){var t=this._window.getComputedStyle(this.element);this.paddingTop=parseInt(t.paddingTop,10),this.paddingBottom=parseInt(t.paddingBottom,10),this.borderTopWidth=parseInt(t.borderTopWidth,10),this.borderBottomWidth=parseInt(t.borderBottomWidth,10)}};t.exports=e},function(t){var e={create:function(t){return Object.create(e)._init(t)},_init:function(t){return this.constructor=e,this._window=window,this._sticky=t,this.element=null,this._createElement(),this},_createElement:function(){var t=document.createElement("DIV"),e=this._sticky.element.getBoundingClientRect().width+"px",i=this._sticky.boundingBoxHeight+"px",n=this._window.getComputedStyle(this._sticky.element).margin,o=this._window.getComputedStyle(this._sticky.element).float;t.style.display="none",t.style.width=e,t.style.height=i,t.style.margin=n,t.style.float=o,this._sticky.element.parentNode.insertBefore(t,this._sticky.element),this.element=t},refresh:function(){this.element.style.height=this._sticky.boundingBoxHeight+"px"}};t.exports=e},function(t){var e={create:function(t){return Object.create(e)._init(t)},_init:function(t){return this.constructor=e,this._window=window,this.element=t,this.boundingBoxHeight=null,this._setElementWidth(),this._setBoundingBoxHeight(),this},_setElementWidth:function(){var t=this._window.getComputedStyle(this.element).width;this.element.style.width=t},_setBoundingBoxHeight:function(){this.boundingBoxHeight=this.element.getBoundingClientRect().height},refresh:function(){this._setBoundingBoxHeight()}};t.exports=e},function(t,e,i){for(var n=i(5),o="undefined"==typeof window?{}:window,s=["moz","webkit"],r="AnimationFrame",h=o["request"+r],c=o["cancel"+r]||o["cancelRequest"+r],l=!0,a=0;a<s.length&&!h;a++)h=o[s[a]+"Request"+r],c=o[s[a]+"Cancel"+r]||o[s[a]+"CancelRequest"+r];if(!h||!c){l=!1;var u=0,d=0,f=[],_=1e3/60;h=function(t){if(0===f.length){var e=n(),i=Math.max(0,_-(e-u));u=i+e,setTimeout(function(){var t=f.slice(0);f.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(u)}catch(i){setTimeout(function(){throw i},0)}},i)}return f.push({handle:++d,callback:t,cancelled:!1}),d},c=function(t){for(var e=0;e<f.length;e++)f[e].handle===t&&(f[e].cancelled=!0)}}t.exports=function(t){return l?h.call(o,function(){try{t.apply(this,arguments)}catch(e){setTimeout(function(){throw e},0)}}):h.call(o,t)},t.exports.cancel=function(){c.apply(o,arguments)}},function(t,e,i){(function(e){(function(){var i,n,o;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:"undefined"!=typeof e&&null!==e&&e.hrtime?(t.exports=function(){return(i()-o)/1e6},n=e.hrtime,i=function(){var t;return t=n(),1e9*t[0]+t[1]},o=i()):Date.now?(t.exports=function(){return Date.now()-o},o=Date.now()):(t.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(e,i(6))},function(t){function e(){}var i=t.exports={};i.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var i=[];return window.addEventListener("message",function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),i.length>0)){var n=i.shift();n()}},!0),function(t){i.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),i.title="browser",i.browser=!0,i.env={},i.argv=[],i.on=e,i.addListener=e,i.once=e,i.off=e,i.removeListener=e,i.removeAllListeners=e,i.emit=e,i.binding=function(){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(){throw new Error("process.chdir is not supported")}}])});